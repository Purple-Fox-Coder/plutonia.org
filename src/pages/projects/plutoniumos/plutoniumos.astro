---
import ArticleLayout from "../../../layouts/ArticleLayout.astro";
import ProjectCard from "../../../components/ProjectCard.astro";
import ArticleCard from "../../../components/ArticleCard.astro";
import { Image } from 'astro:assets';

export const meta = {
  title: "plutoniumos",
  description:
  `
  This is my OS (Operating System) project I'm working on as an academic exercise
  to learn about the zig programming language and about OS design and process of
  creating one.
  `,
  date: new Date("2025-9-4"),
  tags: [ "Git", "Zig", "Assembly", "C", "QEMU", "VNC", "Limine" ]
};

const files = import.meta.glob('./*.astro', { eager: true });

const articles = {};

for (const [, mod] of Object.entries(files)) {
  if (mod.meta?.title != meta.title) {
    if (!articles[mod.meta.title]) {
      articles[mod.meta.title] = {
        article: null
      };
    }
    articles[mod.meta.title].article = mod;
  }
}
---

<ArticleLayout
  title={meta.title}
  description={meta.description}
  >
    <div class="flex justify-center items-center">
      <Image
        src={import ("../../../media/128x128.png")}
        alt={`${meta.title} logo`}
        class="imageIn"
        width="128"
        height="128"
      />
    </div>
    <ul>
      {Object.entries(articles).map(([name, data]) => {
        return (
          <li key={name}>
            <div class="seperator" />
              <ArticleCard
                title={data.article?.meta?.title}
                url={data.article?.url}
                description={data.article?.meta?.description}
                image={data.article?.meta?.image}
                tags={data.article?.meta?.tags}
              />
          </li>
        );
      })}
    </ul>
    <div class="seperator" />
</ArticleLayout>
